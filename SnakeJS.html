<!DOC TYPE html>

<head>
	<title>SnakeJS</title>
	<style>
		#snake{}
		#body{background-color:white}
	
	
	</style>

</head >
<body id=body >
	<canvas id=snake width =500 height=500></canvas>
	<p id=score>Score:1</p>

</body>

<script>
var setupd=false;
var c = document.getElementById("snake");
var ctx = c.getContext("2d");
var pxfroms=0;
function snack()
	{
	this.x;
	this.y;
	this.clear=function()
		{
		ctx.fillStyle="purple";
		ctx.fillRect(this.x,this.y,10,10);
		
		}
	this.draw=function()
		{
		ctx.beginPath();
		ctx.rect(this.x,this.y,10,10);
		ctx.fillStyle="yellow";
		ctx.fill();
		};
	
	
	
	
	
	}
function player()
	{
	this.bodyX=[];
	this.bodyY=[];
	this.score=1;
	this.directionx;
	this.directiony;
	this.x;
	this.y;
	this.draw=function() {
		ctx.fillStyle="yellow";
		ctx.rect(this.x,this.y,10,10);
		ctx.fill();
	
		
		
		}
	this.updatepos=function(x,y) {
		
	
		for(i=0;i<=this.bodyX.length;i++)
		{if(i+1<=this.bodyX.length){
			this.bodyX[i+1]=this.bodyX[i];
			this.bodyY[i+1]=this.bodyY[i];
		    }
		 else{this.bodyX[0]=this.x;this.bodyY[0]=this.y}
		
		
		
		}
		ctx.fillStyle="purple";
		ctx.beginPath();
		ctx.rect(this.bodyX[this.score],this.bodyY[this.score],10,10);
		ctx.fill();
		this.x=this.x+x*10;
		this.y=this.y+y*10;
		ctx.beginPath();
		ctx.fillStyle="yellow";
		ctx.rect(this.x,this.y,10,10);
		ctx.fill();
	
	}
	
	
	
	
	
	}
var s=new player();
var f=new snack();
function loop()
	{	
		if(!setupd){
		document.addEventListener("keydown",function(){
		if(event.keyCode==83)
			{s.directionx=0;
			s.directiony=1;}
		if(event.keyCode==65)
			{s.directionx=-1;
			s.directiony=0;}
		if(event.keyCode==68)
			{s.directionx=1;
			s.directiony=0;}
		if(event.keyCode==87)
			{s.directionx=0;
			s.directiony=-1;}
		
		});
		s.x=50;
		s.y=100;
		s.directionx=1;
		s.directiony=0;
		s.draw();
		console.log("SETUP");
		ctx.beginPath();
		ctx.fillStyle="purple";
		ctx.rect(0,0,500,500);
		ctx.fill();
		f.x=50;s
		f.y=50;
		f.x=Math.floor(Math.random()*10)*10;
		f.y=Math.floor(Math.random()*10)*10;
		f.draw();
		setupd=true;
		}
		console.log("LOOP");
		document.getElementById("score").innerHTML="Score:"+s.score.toString();
		if(f.x==s.x&&s.y==f.y)
		{
		f.clear();
		f.x=Math.floor(Math.random()*20)*10+50;
		f.y=Math.floor(Math.random()*20)*10+50;
		s.score=s.score+2;
		f.draw();
		}
		s.updatepos(s.directionx,s.directiony);
		if(s.y>500-pxfroms)
			{pxfroms=0;alert("Game Over");s.x=50;
		s.y=100;
		s.directionx=1;
		s.directiony=0;}
		if(s.y<0+pxfroms)
			{pxfroms=0;alert("Game Over");s.x=50;
		s.y=100;
		s.directionx=1;
		s.directiony=0;}
		if(s.x<0+pxfroms)
			{pxfroms=0;alert("Game Over");s.x=50;
		s.y=100;
		s.directionx=1;
		s.directiony=0;}
		if(s.x>500-pxfroms)
			{pxfroms=0;
			alert("Game Over");s.x=50;
		s.y=100;
		s.directionx=1;
		s.directiony=0;}
		
		
	}
	
	


setInterval(function(){loop();},30)











</script>
